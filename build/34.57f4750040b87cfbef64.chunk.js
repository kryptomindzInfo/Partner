(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{b1dae33850db195c57f8:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return Q});var o,n=a("8af190b70a6bc55c6f1b"),r=a.n(n),i=a("bd183afcc37eabd79225"),s=a.n(i),c=a("e95a63b25fb92ed15721"),l=a("0d7f0986bcd2f33d8a2a"),d=a("7286e4d32da69e8d8af9"),f=a("ab039aecd4a1d4fedc0e"),u=a("7b9702807589922aac12"),b=a("5eab5618c2f7cb367580"),p=a("8ac34887ece117b1abe9"),m=a("365f1f0df0c7eb1c6a39"),g=a("6fa8358498da34119718"),v=a("c0da21c8c30564c60a72"),h=a("14565c619a2b4ffb4425"),y=a("4a58ef70613a2768a6b0"),w=a("3cfc5fe5ae5fc3fb28ab"),S=a("a5a6067b351c18817e3b"),E=a("c6ab63ffe46a1a0d4ebc"),O=a("1338cbe09bd1ccd2eec5"),P=a("2ef0388ad848e10584a5"),_=a("80305d31256481b97990"),I=a("041021065ead6515c7e1"),k=a("9f100a413d2aaf9e0ca5"),C=a.n(k),M=a("fe0b34a58afc62cf66c2"),L=a.n(M),j=a("c7fd554010f79f6c0ef8"),F=a.n(j),R=a("fcb99a06256635f70435");a("18fd55adb10446515347");function q(e){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,a,n){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:o,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function x(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}d.toast.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var D=T(I.a,{fullPage:!0}),H=T(c.Redirect,{to:"/dashboard"}),J=T(l.Helmet,{},void 0,T("meta",{charSet:"utf-8"}),T("title",{},void 0,"E-WALLET | PARTNER | SIGNUP")),W=T(p.a,{from:"partner"}),$=T(C.a,{}),G=T(L.a,{}),z=T(E.a,{disabled:!0},void 0,T(I.a,{})),K=T(P.a,{}),Q=function(e){function t(){var e,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=N(t).call(this),e=!o||"object"!==q(o)&&"function"!==typeof o?A(a):o,B(A(e),"success",function(){return d.toast.success(e.state.notification)}),B(A(e),"error",function(){return d.toast.error(e.state.notification)}),B(A(e),"warn",function(){return d.toast.warn(e.state.notification)}),B(A(e),"handleInputChange",function(t){var a=t.target,o=a.value,n=a.name;e.setState(B({},n,o.trim()))}),B(A(e),"loginRequest",function(t){t.preventDefault(),e.setState({loginLoading:!0},function(){s.a.post("".concat(R.a,"/partner/login"),e.state).then(function(e){if(200!=e.status)throw e.data.error;if(console.log(e),localStorage.setItem("partnerLogged",e.data.token),localStorage.setItem("partnerName",e.data.name),localStorage.setItem("partnerUserName",e.data.username),localStorage.setItem("partnerContract",e.data.contract),localStorage.setItem("partnerLogo",e.data.logo),localStorage.setItem("partnerId",e.data.id),localStorage.setItem("partnerPhone",e.data.mobile),0==e.data.status&&"Incorrect username or password"===e.data.message)throw e.data.message;e.data.initial_setup?e.data.status&&0!=e.data.status&&""!=e.data.status?window.location.href="/dashboard":window.location.href="/activate":(window.location.href="/setup",console.log(e.data.initial_setup))}).catch(function(t){e.setState({notification:t.res?t.res.data.error:t.toString(),loginLoading:!1}),e.error()})})}),e.state={username:"",password:"",notification:"",loading:!0,redirect:!1,visiblity:!1},e.error=e.error.bind(A(e)),e}var a,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,n["Component"]),a=t,(o=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.setState({loading:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;var t=this.state,a=t.loading,o=t.redirect;return a?D:o?H:T(b.a,{},void 0,J,W,T(m.a,{},void 0,T(g.a,{},void 0,r.a.createElement(f.FormattedMessage,u.a.pagetitle)),T(v.a,{},void 0,r.a.createElement(f.FormattedMessage,u.a.title)),T(h.a,{},void 0,r.a.createElement(f.FormattedMessage,u.a.subtitle2)),T("form",{action:"",method:"POST",onSubmit:this.loginRequest},void 0,T(y.a,{},void 0,T(w.a,{},void 0,T("label",{},void 0,r.a.createElement(f.FormattedMessage,u.a.userid),"*"),T(S.a,{type:"text",name:"username",onFocus:function(e){e.target.parentElement.querySelector("label").classList.add("focused")},onBlur:function(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")},value:this.state.username,onChange:this.handleInputChange,required:!0})),T(w.a,{},void 0,T("div",{style:{backgroundColor:""}},void 0,T(F.a,{name:"password",label:"Password",style:{width:"100%"},value:this.state.password,type:this.state.visiblity?"text":"password",margin:"normal",variant:"outlined",onChange:this.handleInputChange,required:!0}),T("span",{onClick:function(){e.setState({visiblity:!e.state.visiblity})},style:{position:"relative",top:"-40px",left:"90%"}},void 0,T("i",{},void 0,this.state.visiblity?$:G))))),this.loginLoading?z:T(E.a,{},void 0,r.a.createElement(f.FormattedMessage,u.a.pagetitle))),T(O.a,{marginTop:!0},void 0,K,T(P.a,{textRight:!0},void 0,T(_.a,{href:"/bank/forgot-password"},void 0,r.a.createElement(f.FormattedMessage,u.a.forgotpassword))))))}}])&&x(a.prototype,o),i&&x(a,i),t}()}}]);